function GetInfo(){var n=!1;$.ajax({url:"/TipoCentroDeCosto/GetInfo",type:"json",data:null,success:function(t){$.each(t,function(t,i){AddTipo(i,$("#divTipos"));n=!0})},error:function(){showServerErrorMessage()},complete:function(){$("#divTipos").show();$("#divSpinner").hide();n||$("#divListaVacia").show()}})}function AddTipo(n,t){t.append('<div class="list-group-item list-group-item-action"> <div class="row">     <div class="col-1" numeral="'+n.numeral+'" tipo="Numeral">'+n.numeral+'<\/div>     <div class="col-9" numeral="'+n.numeral+'" tipo="Nombre">'+n.nombre+'<\/div>     <div class="col-2 ps-0 pe-0 text-end">         <span class="float-right ms-3 pointer">             <i class="fas fa-pen" tipo="btnEdit" mode="E" numeral="'+n.numeral+'" fn="'+n.nombre+'"><\/i>         <\/span>         <span class="float-right ms-3 pointer">             <i class="fas fa-trash" tipo="btnDel" mode="D" numeral="'+n.numeral+'" fn="'+n.nombre+'"><\/i>         <\/span>     <\/div> <\/div><\/div>')}function clearValidation(n){var t=$(n).validate();$("[name]",n).each(function(){t.successList.push(this);t.showErrors()});t.resetForm();t.reset()}function disableInputs(n){$("#Nombre").prop("disabled",n)}$(document).ready(function(){var n,t;GetInfo();$("div[tipo=btnContainer]").on("click","i",function(i){var r=i.target.attributes.tipo.value,u=i.target.attributes.mode.value,f=i.target.attributes.numeral.value;n=i.target;(r=="btnAdd"||r=="btnEdit"||r=="btnDel")&&(clearValidation($("#Formulario")),$("#Mode").val(u),$("#Numeral").val(f),r=="btnAdd"&&($("#hTitulo").html("Nuevo Tipo de Centro de Costo"),$("#Nombre").val(""),$("#Nombre").prop("disabled",!1),t="Guardar"),r=="btnEdit"&&($("#hTitulo").html("Edicion"),$("#Nombre").val($(n).attr("fn")),disableInputs(!1),t="Guardar"),r=="btnDel"&&($("#hTitulo").html("Borrado"),$("#Nombre").val($(n).attr("fn")),disableInputs(!0),t="Borrar"),$("#btnSave").html(t),$("#divView").hide(),$("#divEdit").show(),$("#Nombre").focus())});$("#btnCancel").click(function(){$("#divEdit").hide();$("#divView").show()});$("#btnSave").click(function(){($("#Formulario").valid()||$("#Mode").val()=="D")&&(disableInputs(!1),$("#Formulario").submit())});$("#Formulario").submit(function(i){i.preventDefault();var r=$(this).attr("action"),u=$(this).attr("method"),f=$(this).serialize();disableButton($("#btnSave"));$("#btnCancel").prop("disabled",!0);$.ajax({url:r,type:u,data:f,dataType:"json",success:function(t){if(t.returnValue==""){if($("#Mode").val()=="E"&&($(n).attr("fn",$("#Nombre").val()),$("div[numeral="+$(n).attr("numeral")+"][tipo=Nombre]").html($("#Nombre").val())),$("#Mode").val()=="A"){var i={};$("#divListaVacia").hide();i.nombre=$("#Nombre").val();i.numeral=t.numeralID;AddTipo(i,$("#divTipos"))}$("#Mode").val()=="D"&&($(n).closest("div").parent().parent().remove(),$("#divTipos").children().length==0&&$("#divListaVacia").show());$("#divView").show();$("#divEdit").hide()}else showCustomServerErrorMessage(t.returnValue)},error:function(){showServerErrorMessage()},complete:function(){$("#btnSave").html(t);$("#btnSave").prop("disabled",!1);$("#btnCancel").prop("disabled",!1)}})})});